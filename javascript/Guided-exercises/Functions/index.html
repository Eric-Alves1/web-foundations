<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Function start</title>
    <style>
      .msgBox {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        width: 300px;
        background: #eee;
        border-radius: 6px;
        box-shadow: 0 0 7px #00000065;
      }

      .msgBox p {
        line-height: 1.5;
        padding: 10px 20px;
        color: #333;
        padding-left: 82px;
        background-position: 25px center;
        background-repeat: no-repeat;
      }

      #close {
        background: none;
        border: none;
        position: absolute;
        top: 0;
        right: 0;
        font-size: 1.1rem;
        color: black;
      }
      
      #btndelete {
        margin: 5px;
        padding: 5px;
        border-radius: 3px;
        border: none;
        background-color: #C82333;
        color: #fff;
      }
      
      #btncancel {
        margin: 5px;
        padding: 5px;
        border-radius: 3px;
        border: none;
        background-color: #FFFFFF;
        color: #333;
        border: 1px solid #CED4DA;
      }
      
    </style>
  </head>
  <body>
    <button>Display message box</button>

    <script>
      function displayMessage(messageText, messageType) {
        const body = document.body;

        const panel = document.createElement("div");
        panel.setAttribute("class", "msgBox");
        body.appendChild(panel);
        
        const message = document.createElement("p");
        message.textContent = messageText;
        panel.appendChild(message);
        
        const closeButton = document.createElement("button");
        closeButton.textContent = "x";
        closeButton.setAttribute("id", "close");
        panel.appendChild(closeButton);
        
        closeButton.addEventListener("click", () => {
          body.removeChild(panel);
        });
        
        if (messageType === "warning") {
          if(messageText === "Confirm delete account. This action can not be undone.") 
          {
            const deleteButton = document.createElement("button");
            deleteButton.textContent = "Delete account";
            deleteButton.setAttribute("id", "btndelete");
            panel.appendChild(deleteButton);
              
            deleteButton.addEventListener("click", () => {
              body.removeChild(panel)
              });
            deleteButton.addEventListener("click", () => {
              displayMessage("Account succesfully deleted.", "chat");
              }); 
              
            const cancelButton = document.createElement("button");
            cancelButton.textContent = "Cancel";
            cancelButton.setAttribute("id", "btncancel");
            panel.appendChild(cancelButton);
              
            cancelButton.addEventListener("click", () => {
              body.removeChild(panel);
              });
          } 
          message.style.backgroundImage = 'url("icons/warning.png")';
          panel.style.backgroundColor = "#F1AEB5";
        } else if (messageType === "chat") {
           message.style.backgroundImage = 'url("icons/chat.png")';
           panel.style.backgroundColor = "aqua";
          } else {
           message.style.paddingLeft = "10px";
            }
        
      }
      
      const button = document.querySelector('button');
      button.addEventListener('click', () => displayMessage("Confirm delete account. This action can not be undone.", "warning"));
    </script>
  </body>
</html>